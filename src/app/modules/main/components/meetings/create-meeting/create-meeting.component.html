<div class="new-meeting-container m-5 h-full">
  <div class="header p-4">اجتماع جديد</div>
  <form action="" class="p-4" [formGroup]="meetingForm">
    <div class="input-field flex justify-between mb-3">
      <label> عنوان الاجتماع </label>
      <input type="text" class="address-input" />
    </div>
    <div class="input-field flex justify-between mb-3">
      <label>مكان الاجتماع </label>
      <input type="text" class="address-input" />
    </div>
    <!-- Committees Dropdown -->
    <div class="input-field flex justify-between mb-3">
      <label> اللجان </label>
      <div
        class="custom-dropdown dropdown-container"
        (click)="toggleDropdown('committee', $event)"
      >
        <div class="selected-options">
          <span *ngFor="let option of selectedCommittee" class="tag">
            <span
              class="remove ml-2"
              (click)="removeItem('committee', option, $event)"
              >✖</span
            >
            {{ option }}
          </span>
        </div>
        <ul class="dropdown-menu" *ngIf="isCommitteeDropdownOpen">
          <li
            *ngFor="let option of committees"
            [class.selected]="selectedCommittee.includes(option)"
            (click)="selectItem('committee', option, $event)"
          >
            {{ option }}
          </li>
        </ul>
      </div>
    </div>

    <!-- Members Dropdown -->
    <div class="input-field flex justify-between mb-3">
      <label> الاعضاء </label>
      <div
        class="custom-dropdown dropdown-container"
        (click)="toggleDropdown('member', $event)"
      >
        <div class="selected-options">
          <span *ngFor="let option of selectedMember" class="tag">
            <span
              class="remove ml-2"
              (click)="removeItem('member', option, $event)"
              >✖</span
            >
            {{ option }}
          </span>
        </div>
        <ul class="dropdown-menu" *ngIf="isMemberDropdownOpen">
          <li
            *ngFor="let option of members"
            [class.selected]="selectedMember.includes(option)"
            (click)="selectItem('member', option, $event)"
          >
            {{ option }}
          </li>
        </ul>
      </div>
    </div>

    <!-- Programs Dropdown -->
    <div class="input-field flex justify-between mb-3">
      <label> البرامج </label>
      <div
        class="custom-dropdown dropdown-container"
        (click)="toggleDropdown('program', $event)"
      >
        <div class="selected-options">
          <span *ngFor="let option of selectedProgram" class="tag">
            <span
              class="remove ml-2"
              (click)="removeItem('program', option, $event)"
              >✖</span
            >
            {{ option }}
          </span>
        </div>
        <ul class="dropdown-menu" *ngIf="isProgramDropdownOpen">
          <li
            *ngFor="let option of programs"
            [class.selected]="selectedProgram.includes(option)"
            (click)="selectItem('program', option, $event)"
          >
            {{ option }}
          </li>
        </ul>
      </div>
    </div>

    <div class="start-date">
      
    </div>

    <textarea name="" id="" class="details" placeholder="التفاصيل"></textarea>
    <div class="uploaded-files input-field">
      <label class="title">ملفات مرفقة</label>
      <input
        formArrayName="uploadedFiles"
        type="file"
        multiple
        id="fileInput"
        hidden
      />
      <div
        class="upload-files-button p-4"
        onclick="document.getElementById('fileInput').click()"
      >
        <label>اسحب الملف هنا...</label>
        <div class="choose-file">
          أو قم باختيار الملف..
          <i class="bi bi-upload"></i>
        </div>
      </div>
      <div class="selected-files"></div>
    </div>

    <div class="input-field flex flex-col date-input-field my-4">
      <label class="mb-1">تاريخ اصدار القرار</label>
      <input
        type="text"
        class="date-input"
        #dateInput
        (click)="setTodayDate()"
      />
    </div>
    <button class="add-btn" (click)="createmeeting()">اضافة قرار</button>
  </form>
</div>
