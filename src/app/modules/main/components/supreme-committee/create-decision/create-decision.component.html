<div class="new-decision-container m-5 h-full">
  <div class="header p-4">انشاء قرار</div>
  <form action="" class="p-4" [formGroup]="decisionForm">
    <div class="input-field flex justify-between mb-3">
      <label> البرامج </label>

      <select class="select-program" formControlName="project_id">
        <option value="all">
          جميع البرامج...
        </option>

        <option *ngFor="let project of projects$ | async" [value]="project.id">
          {{ project.title }}
        </option>
      </select>

    </div>

    <div class="input-field flex justify-between mb-3">
      <label> العنوان </label>
      <input formControlName="title" type="text" class="title-input" />
    </div>

    <textarea name="" id="" formControlName="content" class="details" placeholder="التفاصيل"></textarea>

    <div class="uploaded-files input-field">
      <label class="title">ملفات مرفقة</label>
      <input formArrayName="uploadedFiles" type="file" multiple id="fileInput" hidden />
      <div class="upload-files-button p-4" onclick="document.getElementById('fileInput').click()">
        <label>اسحب الملف هنا...</label>
        <div class="choose-file">
          أو قم باختيار الملف..
          <i class="bi bi-upload"></i>
        </div>
      </div>
      <div class="selected-files"></div>
    </div>

    <div class="flex my-6 gap-3 input-field ">
      <label for="">نسبة الانجاز للمهمة</label>


      <mat-slider class="flex-grow" [displayWith]="formatLabel" min="1" max="100" discrete step="1">
        <input matSliderThumb formControlName="progress_percentage">
      </mat-slider>
    </div>

    <div class="input-field flex justify-between my-4">
      <label for="">الحالة</label>
      <mat-select class="select-status" formControlName="status_id">
        <mat-option value="1" selected>تحت الإجراء</mat-option>
        <mat-option value="2">منجز</mat-option>
        <mat-option value="3">متعثر</mat-option>
      </mat-select>
    </div>


    <div class="input-field flex flex-col date-input-field my-4">
      <label class="mb-1">تاريخ اصدار القرار</label>

      <mat-form-field  class="w-100 grow picker">
        <input formControlName="decision_date" (click)="picker.open()" matInput [matDatepicker]="picker">
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>


    <button class="add-btn" [disabled]="decisionForm.invalid" (click)="createDecision()">اضافة قرار</button>
  </form>
</div>